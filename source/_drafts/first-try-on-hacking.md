---
title: 网络"推理"初尝试
date: 2023-02-01 23:50:08
tags:
- Brainstorm
- Hacking
categories: 
- Coding
---

- 找资料
- 发现要会员
- 看到接口
- 最开始尝试用Go做请求遍历，把每一个手机号都尝试一遍
- 失误发现body没传，但恰好看到了MySQL的报错
- 发现竟然没有做接口拦截
- 尝试SQL注入
- 首先试着拼接SQL，但不支持
- 然后试一下看看能不插入购买数据，也不行
- 最后用"OR 1 = 1 # "，成功绕过了验证
- 获取到了资料
- 再次看代码，发现id写死在页面上
- 尝试直接改id，代码并没生效
- 直接在执行中打断点，并修改了全局变量，成功！
防范方式
- 业务上，购买等请求要带上cookie，追踪操作请求
- 业务上，对外暴露的接口，不要把核心信息明文暴露出来，请求内容使用非对称加密并要加上时间戳验证
- 实现上，使用框架，避免SQL注入
